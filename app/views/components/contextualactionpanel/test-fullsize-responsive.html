<div class="row top-padding">
  <div class="six columns">
    <fieldset class="radio-group">
      <legend>Breakpoints</legend>
      <input type="radio" class="radio" name="breakpoint-options" id="phone" value="phone"/>
      <label for="phone" class="radio-label">Phone (320px)</label>
      <br/>
      <input type="radio" class="radio" name="breakpoint-options" id="slim" value="slim"/>
      <label for="slim" class="radio-label">Slim (400px)</label>
      <br/>
      <input type="radio" class="radio" name="breakpoint-options" id="phablet" value="phablet"/>
      <label for="phablet" class="radio-label">Tablet (610px)</label>
      <br/>
      <input type="radio" class="radio" name="breakpoint-options" id="phone-to-tablet" value="phone-to-tablet" checked/>
      <label for="phone-to-tablet" class="radio-label">Phone-to-Tablet (767px)</label>
      <br/>
      <input type="radio" class="radio" name="breakpoint-options" id="wide-tablet" value="wide-tablet"/>
      <label for="wide-tablet" class="radio-label">Wide-Tablet (968px)</label>
      <br/>
      <input type="radio" class="radio" name="breakpoint-options" id="tablet-to-desktop" value="tablet-to-desktop"/>
      <label for="tablet-to-desktop" class="radio-label">Tablet-to-Desktop (1280px)</label>
      <br/>
      <input type="radio" class="radio" name="breakpoint-options" id="desktop" value="desktop"/>
      <label for="desktop" class="radio-label">Desktop (1024px)</label>
      <br/>
      <input type="radio" class="radio" name="breakpoint-options" id="desktop-to-extralarge" value="desktop-to-extralarge"/>
      <label for="desktop-to-extralarge" class="radio-label">Desktop-to-ExtraLarge (1600px)</label>
    </fieldset>
  </div>
</div>

<div class="row">
  <div class="six columns">
    <button type="button" data-init="false" id="trigger-1" class="btn-secondary contextual-action-panel-trigger">
      Display Contextual Action Panel
    </button>

    <div id="panel-1" class="contextual-action-panel" style="display: none;">
      <div class="flex-toolbar">
        <div class="toolbar-section title">
          <h2>Company Information</h2>
        </div>
        <div class="toolbar-section search">
          <input id="toolbar-example-searchfield" class="searchfield" data-options="{ clearable: true, collapsible: true }" placeholder="keyword" />
        </div>
        <div class="toolbar-section buttonset">
          <button id="toolbar-close" class="btn close-button" type="button">
            <svg class="icon icon-close" focusable="false" aria-hidden="true" role="presentation">
              <use href="#icon-close"></use>
            </svg>
            <span>Close</span>
          </button>
        </div>
      </div>
      <div class="row">
        <div class="six columns">

          <div class="field">
            <label for="company-name">Company Name</label>
            <select id="company-name" name="company-name" class="dropdown">
              <option value=""></option>
              <option value="jawbone" selected>Jawbone, Inc.</option>
              <option value="infor">Infor</option>
            </select>
          </div>

          <div class="field">
            <label for="purchase-form">Purchase Form</label>
            <select id="purchase-form" name="purchase-form" class="dropdown">
              <option value=""></option>
              <option value="3567" selected>3567</option>
              <option value="3568">3568</option>
              <option value="3569">3569</option>
            </select>
          </div>

          <div class="field">
           <button class="btn-menu">
            <svg class="icon" focusable="false" aria-hidden="true" role="presentation">
              <use href="#icon-settings"></use>
            </svg>
            <span>Options</span>
          </button>
          <ul class="popupmenu">
            <li><a href="#">Option #1</a></li>
            <li><a href="#">Option #2</a></li>
            <li><a href="#">Option #3</a></li>
            <li><a href="#">Option #4</a></li>
            <li><a href="#">Option #5</a></li>
          </ul>
          </div>

          <div class="field">
            <label for="notes">Notes</label>
            <textarea id="notes" name="notes"></textarea>
          </div>

        </div>
        <div class="six columns">

          <div class="field">
            <label for="ship-terms">Ship Terms</label>
            <select id="ship-terms" name="ship-terms" class="dropdown">
              <option value=""></option>
              <option value="default" selected>Default</option>
              <option value="alternate">Alternate</option>
            </select>
          </div>

          <div class="field">
            <label for="ship-via">Ship Via</label>
            <select id="ship-via" name="ship-via" class="dropdown">
              <option value=""></option>
              <option value="freight" selected>Freight</option>
              <option value="air">USPS Air</option>
            </select>
          </div>

          <div class="field">
            <label for="issue-method">Issue Method</label>
            <select id="issue-method" name="issue-method" class="dropdown">
              <option value=""></option>
              <option value="phone">Telephone</option>
              <option value="email" selected>E-mail</option>
              <option value="sms">SMS Message</option>
            </select>
          </div>

          <div class="field">
            <input type="checkbox" id="po-box" name="po-box" class="checkbox" checked/>
            <label for="po-box" class="checkbox-label">Freight</label>
          </div>

        </div>
      </div>
    </div>

  </div>
</div>

<script id="test-script">
  const opts = $('[name="breakpoint-options"]');

  var openPanel = function () {
    opts.disable();

    $('body').contextualactionpanel({
      content: $('#panel-1'),
      modalSettings: {
        fullsize: 'responsive',
        breakpoint: opts.filter(':checked').val(),
        showCloseBtn: true,
        trigger: 'immediate',
        useFlexToolbar: true
      }
    });

    $('body').one('close.test', function() {
      opts.enable();
    });
  };

  $('#trigger-1').on('click', function () {
    openPanel();
  });
</script>
