<div class="row top-padding">
  <div class="six columns">

    <!-- Fill out all the information about this test page below, in plain English -->
    <h2>Mask Test: Initialized Inside Modal</h2>

    <p><a class="hyperlink" href="http://jira.infor.com/browse/HFC-3511" target="_blank">Related JIRA Ticket</a>.</p>

    <p></p>

  </div>
</div>

<div class="row">
  <div class="twelve columns">

    <button class="btn-secondary" type="button" id="show">Show Modal</button>
    <div id="modal" class="modal">
      <div class="modal-content">
        <div class="modal-header">
          <h1 class="modal-title" >Add Comment</h1>
        </div>

        <div class="modal-body-wrapper">
          <div class="modal-body">
            <div class="field">
              <label for="context-type">Type</label>
              <select class="dropdown" id="context-type" name="type">
                <option value="1">Context #1</option>
                <option value="2">Context #2</option>
                <option value="3">Context #3</option>
                <option value="4">Context #4</option>
                <option value="5">Context #5</option>
              </select>
            </div>

            <div class="field">
              <label for="context-name" class="required">Name</label>
              <input id="context-name"  aria-required="true" data-validate="required" name="context-name" type="text">
            </div>

            <div class="field">
              <label for="context-desc" class="required">Page Title</label>
              <textarea id="context-desc" aria-required="true" data-validate="required" name="context-desc" maxlength="50"></textarea>
            </div>

            <div class="field">
              <label for="date-field" class="label">Date Field</label>
              <input id="date-field" class="datepicker" type="text" value="7/21/2012" data-validate="required"/>
            </div>

            <div class="modal-buttonset">
              <button type="button" type="button" class="btn-modal">Cancel</button>
              <button type="button" type="button" id="submit" class="btn-modal-primary">Submit</button>
            </div>
          </div>
        </div>
      </div>
    </div>

  </div>
</div>

<script>
  $('body').on('initialized', function() {

    $('#modal').on('open.test', function(e, modal) {
      $(this).trigger('updated');
    });

    $('#show').on('click.test', function () {

      // Without this initialize call, date field is not getting picker
      // with this initialize call, date value in input is getting corrupted
      //$('#date-field').initialize();

      $('body').modal({
        content: $('#modal')
      });

    });
  });
</script>
