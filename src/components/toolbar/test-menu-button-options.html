<div class="row top-padding">
  <div class="twelve columns">

    <h2>Toolbar: Menu Buttons &amp; Updates</h2>
    <p>
      This tests how the toolbar actions menu handles changes to the options of a menu button in a toolbar.
      Use the following buttons to make changes to the options of the Menu Button. Test when the Menu Button
      is initially visible and when it is in the actions menu on smaller screens.
    </p>
    <br/><br/><br/>

    <button type="button" class="btn-secondary btn-menu">
      <span>Disable</span>
    </button>
    <ul class="popupmenu" id="disable-options">
      <li><a href="#" data-target="#button-1">Button 1</a></li>
      <li><a href="#" data-target="#button-2">Button 2</a></li>
      <li><a href="#" data-target="#button-3">Button 3</a></li>
      <li><a href="#" data-target="#test-menu #item-1">Item 1</a></li>
      <li><a href="#" data-target="#test-menu #item-2">Item 2</a></li>
      <li><a href="#" data-target="#test-menu #subitem-1">Sub Item 1</a></li>
      <li><a href="#" data-target="#test-menu #subitem-2">Sub Item 2</a></li>
    </ul>

    <button type="button" class="btn-secondary btn-menu">
      <span>Enable</span>
    </button>
    <ul class="popupmenu" id="enable-options">
      <li><a href="#" data-target="#button-1">Button 1</a></li>
      <li><a href="#" data-target="#button-2">Button 2</a></li>
      <li><a href="#" data-target="#button-3">Button 3</a></li>
      <li><a href="#" data-target="#test-menu #item-1">Item 1</a></li>
      <li><a href="#" data-target="#test-menu #item-2">Item 2</a></li>
      <li><a href="#" data-target="#test-menu #subitem-1">Sub Item 1</a></li>
      <li><a href="#" data-target="#test-menu #subitem-2">Sub Item 2</a></li>
    </ul>

    <button type="button" class="btn-secondary btn-menu">
      <span>Hide</span>
    </button>
    <ul class="popupmenu" id="hide-options">
      <li><a href="#" data-target="#button-1">Button 1</a></li>
      <li><a href="#" data-target="#button-2">Button 2</a></li>
      <li><a href="#" data-target="#button-3">Button 3</a></li>
      <li><a href="#" data-target="#test-menu #item-1">Item 1</a></li>
      <li><a href="#" data-target="#test-menu #item-2">Item 2</a></li>
      <li><a href="#" data-target="#test-menu #subitem-1">Sub Item 1</a></li>
      <li><a href="#" data-target="#test-menu #subitem-2">Sub Item 2</a></li>
    </ul>

    <button type="button" class="btn-secondary btn-menu">
      <span>Show</span>
    </button>
    <ul class="popupmenu" id="show-options">
      <li><a href="#" data-target="#button-1">Button 1</a></li>
      <li><a href="#" data-target="#button-2">Button 2</a></li>
      <li><a href="#" data-target="#button-3">Button 3</a></li>
      <li><a href="#" data-target="#test-menu #item-1">Item 1</a></li>
      <li><a href="#" data-target="#test-menu #item-2">Item 2</a></li>
      <li><a href="#" data-target="#test-menu #subitem-1">Sub Item 1</a></li>
      <li><a href="#" data-target="#test-menu #subitem-2">Sub Item 2</a></li>
    </ul>

  </div>
</div>

<div class="row">
  <div class="twelve columns">

    <div class="toolbar">
      <div class="title">
         Toolbar Title
      </div>

      <div class="buttonset">
         <button type="button" id="button-1" class="btn">
            <span>Space Filler with Long Text Button 1</span>
         </button>

         <button type="button" id="button-2" class="btn" disabled="disabled">
            <span>Simple Button 2</span>
         </button>

         <button type="button" id="button-3" class="btn-menu">
            <span>Menu Button 3</span>
         </button>
         <ul class="popupmenu" id="test-menu">
            <li id="item-1" class="is-disabled"><a class="level-one" href="#" disabled="disabled">Item 1</a></li>
            <li id="item-2">
              <a href="#">Item 2</a>
              <ul id="test-submenu" class="popupmenu">
                <li id="subitem-1"><a class="level-two" href="#">Sub Item 1</a></li>
                <li id="subitem-2"><a class="level-two" href="#">Sub Item 2</a></li>
              </ul>
            </li>
          </ul>
      </div>
    </div>

  </div>
</div>

<script>
  $('#disable-options').find('a').on('click', function () {
    var selector = $(this).data('target');
    var element = $(selector);

    // Disable button or item
    if (element.is('button')) {
      element.prop('disabled', true);
    } else {
      element.addClass('is-disabled');
      element.children('a').attr('disabled', 'disabled'); // needed to prevent click event
    }
  });

  $('#enable-options').find('a').on('click', function () {
    var selector = $(this).data('target');
    var element = $(selector);

    // Enable button or item
    if (element.is('button')) {
      element.removeAttr('disabled');
    } else {
      element.removeClass('is-disabled');
      element.children('a').removeAttr('disabled');
    }
  });

  $('#hide-options').find('a').on('click', function () {
    var selector = $(this).data('target');
    var element = $(selector);

    // Hide button or item
    element.addClass('hidden');
  });

  $('#show-options').find('a').on('click', function () {
    var selector = $(this).data('target');
    var element = $(selector);

    // Show button or item
    element.removeClass('hidden');
  });

  // Add click event messages to test if disabled states are properly suppressing this click function
  $('#button-1, #button-2, #button-3, #test-menu li > a').on('click', function () {
    var label = $(this).text();
    $('body').toast({ title: 'Click Event', message: 'Click function for ' + label });
  });
</script>
