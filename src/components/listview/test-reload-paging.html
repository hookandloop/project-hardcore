<div class="row">
	<div class="twelve columns">
		<h2 class="fieldset-title">ListView  - Reloading Data / With Paging</h2>
	</div>
</div>
<div class="row">
	<div class="one-third column">
		<div class="card"  id="example-listview-1" >
			<div class="card-header">
				<h2 class="card-title">Tasks</h2>
			</div>
			<div class="card-content">
				<div class="listview" id="task-listview" data-tmpl="task-tmpl" data-dataset="demoTasks" >
				</div>
			</div>
		</div>
    <button class="btn-primary" onClick="addItems();">Change Data</button>

  </div>
</div>

{{={{{ }}}=}}

<script id="task-tmpl" type="text/html">
	<ul>
    {{#dataset}}
    <li>
      <p class="listview-heading">{{name}}</p>
    </li>
    {{/dataset}}
	</ul>
	</script>

	<script>
	var list,
		count = 4;
		itemsPerClick = 8,
  	demoTasks = [{name: 'opt-1'}, {name: 'opt-2'}, {name: 'opt-3'}];

		$('#task-listview').listview({
      dataset: demoTasks,
  		template: $('#task-tmpl').html(),
  		paging: true,
  		pagesize: 6
		});

	  function addItems() {
			for (var i = itemsPerClick; i > 0; --i) {
				demoTasks.push({ name: ('opt-' + count) });
				count++;
			}

      $('#task-listview').trigger('updated', [{ dataset: demoTasks }]);
		}

	</script>
