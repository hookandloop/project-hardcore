
<div class="row">
  <div class="twelve columns">

    <div id="common-toolbar" class="toolbar" role="toolbar">
      <div class="title">
        Common Toolbar
      </div>
      <div class="buttonset">
        <label class="audible" for="common-toolbar-searchfield">Keyword Search</label>
        <input id="common-toolbar-searchfield" name="common-toolbar-searchfield" class="searchfield" />

        <button type="button" class="btn-tertiary">
          <svg class="icon" focusable="false" aria-hidden="true" role="presentation">
            <use xlink:href="#icon-filter"></use>
          </svg>
          <span>Category</span>
        </button>
      </div>

      <div class="more">
        <button type="button" class="btn-actions" data-init="false">
          <svg class="icon" focusable="false" aria-hidden="true" role="presentation">
            <use xlink:href="#icon-more"></use>
          </svg>
          <span class="audible">More Actions</span>
        </button>
        <ul class="popupmenu">
          <li><a href="#">Option #1</a></li>
          <li><a href="#">Option #2</a></li>
          <li><a href="#">Option #3</a></li>
        </ul>
      </div>
    </div>
      <ul class="popupmenu is-padded">
      </ul>

  </div>
</div>

<script>

  $(function() {

    $('.btn-actions').button().popupmenu({beforeOpen: function (response) {
      var menu = '<li><a href="#">Option One</a></li><li><a href="#">Option Two</a></li>';
      setTimeout(function () {
        response(menu);
      }, 500);
    }})
    .on('click', function () {
      console.log('click event');
    }).on('beforeopen', function () {
      //Example of not opening on a condition - but should really use disabled
      //return false;
    }).on('open', function () {
      console.log('beforeopen event');
    }).on('afteropen', function () {
      console.log('afteropen event');
    });

  });
</script>
