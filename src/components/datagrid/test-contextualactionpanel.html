
<div class="row">
  <div class="six columns">

    <button type="button" id="js-contextual-panel" class="btn-secondary contextual-action-panel-trigger no-init">
      Open Panel with Grid
    </button>
    <div class="contextual-action-panel" style="display:none">
      <div class="full-width">
      <div class="toolbar" role="toolbar">
        <div class="title">
          Custom Grid Toolbar
          <span class="datagrid-result-count">(N Results)</span>
        </div>
        <div class="buttonset">
          <label class="audible" for="common-toolbar-searchfield">Keyword Search</label>
          <input id="common-toolbar-searchfield" name="common-toolbar-searchfield" class="searchfield" />

          <button type="button" class="btn">
            <svg class="icon" focusable="false" aria-hidden="true" role="presentation">
              <use xlink:href="#icon-filter"></use>
            </svg>
            <span>Category</span>
          </button>
        </div>

        <div class="more">
          <button class="btn-actions" type="button">
            <svg class="icon" focusable="false" aria-hidden="true" role="presentation">
              <use xlink:href="#icon-more"></use>
            </svg>
            <span class="audible">More Actions</span>
          </button>
          <ul class="popupmenu">
            <li><a href="#">Option One</a></li>
            <li><a href="#">Option Two</a></li>
            <li><a href="#">Option Three</a></li>
            <li class="separator single-selectable-section"></li>
            <li class="heading">Row Height</li>
            <li class="is-selectable"><a data-option="row-short" href="#">Short</a></li>
            <li class="is-selectable"><a data-option="row-medium" href="#">Medium</a></li>
            <li class="is-selectable is-checked"><a data-option="row-normal" href="#">Normal</a></li>
          </ul>

        </div>
      </div>

        <div class="datagrid"></div>
      </div>
    </div>
    </div>
</div>


<script>
  $('body').on('initialized', function () {

    var data = [],
      columns = [];

    columns.push({ id: 'date', name: 'Date', field: 'date', formatter: Formatters.Date});
    columns.push({ id: 'description', name: 'Description', field: 'description'});
    columns.push({ id: 'category', name: 'Category', field: 'category'});
    columns.push({ id: 'projectWork', name: 'Project Work', field: 'projectWork'});
    columns.push({ id: 'resource', name: 'Resource', field: 'resource'});
    columns.push({ id: 'amount', name: 'Amount', field: 'amount'});

    data.push({ date: new Date(2015, 1, 20), description: 'Pending Benefits', paidBy: 'PR', category: '2244 Personnel', projectWork: 'Structural Design', resource: 'Charles Dunn', amount: '$204.00' });
    data.push({ date: new Date(2015, 1, 24), description: 'Pending Wages', paidBy: 'PR', category: '2244 Personnel', projectWork: 'Structural Design', resource: 'Vendor 3 Meylin Clark', amount: '$146.00' });
    data.push({ date: new Date(2015, 1, 24), description: 'Apple Computer INC', paidBy: 'AP', category: '2919 Supplies', projectWork: 'Structural Design', resource: 'Vendor 3 Meylin Clark', amount: '$1299.00' });
    data.push({ date: new Date(2015, 2, 02), description: 'PO #1292', paidBy: 'AP', category: '2244 Personnel', projectWork: 'Structural Design', resource: 'Vendor 3 Meylin Clark', amount: '$398.00' });

    $('.contextual-action-panel .datagrid').datagrid({
      columns: columns,
      dataset: data,
      isList: true,
      toolbar: {results: true}
    });

    // Build the Settings-based Contextual Action Panel
    $('#js-contextual-panel').contextualactionpanel({
      title: 'Expenses: $50,000.00',
      buttons: [
        {
          text: 'Currency',
          cssClass: 'btn',
          click: function() {
            //nothing
          }
        },
        {
          cssClass: 'separator'
        },
        {
          text: 'Close',
          cssClass: 'btn',
          icon: '#icon-close',
          click: function() {
            $(this).data('modal').close();
          }
        }
      ]
    });

  });

</script>
